var Base=function(){};Base.extend=function(e,t){"use strict";var n=Base.prototype.extend;Base._prototyping=true;var r=new this;n.call(r,e);r.base=function(){};delete Base._prototyping;var i=r.constructor;var s=r.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==s){this._constructing=true;i.apply(this,arguments);delete this._constructing}else if(arguments[0]!==null){return(arguments[0].extend||n).call(arguments[0],r)}}};s.ancestor=this;s.extend=this.extend;s.forEach=this.forEach;s.implement=this.implement;s.prototype=r;s.toString=this.toString;s.valueOf=function(e){return e=="object"?s:i.valueOf()};n.call(s,t);if(typeof s.init=="function")s.init();return s};Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&typeof t=="function"&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var r=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=r.apply(this,arguments);this.base=e;return t};t.valueOf=function(e){return e=="object"?t:r};t.toString=Base.toString}this[e]=t}else if(e){var i=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){i=this.extend||i}var s={toSource:null};var o=["constructor","toString","valueOf"];var u=Base._prototyping?0:1;while(a=o[u++]){if(e[a]!=s[a]){i.call(this,a,e[a])}}for(var a in e){if(!s[a])i.call(this,a,e[a])}}return this}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var r in e){if(this.prototype[r]===undefined){t.call(n,e[r],r,e)}}},implement:function(){for(var e=0;e<arguments.length;e++){if(typeof arguments[e]=="function"){arguments[e](this.prototype)}else{this.prototype.extend(arguments[e])}}return this},toString:function(){return String(this.valueOf())}});var FlipClock;(function(e){"use strict";FlipClock=function(e,t,n){return new FlipClock.Factory(e,t,n)};FlipClock.Lang={};FlipClock.Base=Base.extend({buildDate:"2013-11-07",version:"0.3.1",constructor:function(t,n){if(typeof t!=="object"){t={}}if(typeof n!=="object"){n={}}this.setOptions(e.extend(true,{},t,n))},callback:function(e){if(typeof e==="function"){var t=[];for(var n=1;n<=arguments.length;n++){if(arguments[n]){t.push(arguments[n])}}e.apply(this,t)}},log:function(e){if(window.console&&console.log){console.log(e)}},getOption:function(e){if(this[e]){return this[e]}return false},getOptions:function(){return this},setOption:function(e,t){this[e]=t},setOptions:function(e){for(var t in e){if(typeof e[t]!=="undefined"){this.setOption(t,e[t])}}}});FlipClock.Factory=FlipClock.Base.extend({autoStart:true,callbacks:{destroy:false,create:false,init:false,interval:false,start:false,stop:false,reset:false},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",defaultClockFace:"HourlyCounter",defaultLanguage:"english",language:"english",lang:false,face:true,running:false,time:false,timer:false,lists:[],$wrapper:false,constructor:function(t,n,r){this.lists=[];this.running=false;this.base(r);this.$wrapper=e(t).addClass(this.classes.wrapper);this.time=new FlipClock.Time(this,n?Math.round(n):0);this.timer=new FlipClock.Timer(this,r);this.lang=this.loadLanguage(this.language);this.face=this.loadClockFace(this.clockFace,r);if(this.autoStart){this.start()}},loadClockFace:function(e,t){var n,r="Face";e=e.ucfirst()+r;if(FlipClock[e]){n=new FlipClock[e](this,t)}else{n=new FlipClock[this.defaultClockFace+r](this,t)}n.build();return n},loadLanguage:function(e){var t;if(FlipClock.Lang[e.ucfirst()]){t=FlipClock.Lang[e.ucfirst()]}else if(FlipClock.Lang[e]){t=FlipClock.Lang[e]}else{t=FlipClock.Lang[this.defaultLanguage]}return t},localize:function(e,t){var n=this.lang;if(!e){return null}var r=e.toLowerCase();if(typeof t=="object"){n=t}if(n&&n[r]){return n[r]}return e},start:function(e){var t=this;if(!t.running&&(!t.countdown||t.countdown&&t.time.time>0)){t.face.start(t.time);t.timer.start(function(){t.flip();if(typeof e==="function"){e()}})}else{t.log("Trying to start timer when countdown already at 0")}},stop:function(e){this.face.stop();this.timer.stop(e);for(var t in this.lists){this.lists[t].stop()}},reset:function(e){this.timer.reset(e);this.face.reset()},setTime:function(e){this.time.time=e;this.face.setTime(e)},getTime:function(e){return this.time},setCountdown:function(e){var t=this.running;this.countdown=e?true:false;if(t){this.stop();this.start()}},flip:function(){this.face.flip()}});FlipClock.Face=FlipClock.Base.extend({dividers:[],factory:false,lists:[],constructor:function(e,t){this.base(t);this.factory=e;this.dividers=[]},build:function(){},createDivider:function(t,n,r){if(typeof n=="boolean"||!n){r=n;n=t}var i=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");if(r){i=""}t=this.factory.localize(t);var s=['<span class="'+this.factory.classes.divider+" "+(n?n:"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(t?t:"")+"</span>",i,"</span>"];return e(s.join(""))},createList:function(e,t){if(typeof e==="object"){t=e;e=0}var n=new FlipClock.List(this.factory,e,t);return n},reset:function(){},setTime:function(e){this.flip(e)},addDigit:function(e){var t=this.createList(e,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});t.$obj.insertBefore(this.factory.lists[0].$obj);this.factory.lists.unshift(t)},start:function(){},stop:function(){},flip:function(t,n){var r=this;if(!n){if(!r.factory.countdown){r.factory.time.time++}else{if(r.factory.time.time<=0){r.factory.stop()}r.factory.time.time--}}var i=r.factory.lists.length-t.length;if(i<0){i=0}var s=0;var o=false;e.each(t,function(e,t){e+=i;var s=r.factory.lists[e];if(s){var u=s.digit;s.select(t);if(t!=u&&!n){s.play()}}else{r.addDigit(t);o=true}});for(var u=0;u<t.length;u++){if(u>=i&&r.factory.lists[u].digit!=t[u]){r.factory.lists[u].select(t[u])}}}});FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:false,$obj:false,items:[],constructor:function(e,t,n){this.factory=e;this.digit=t;this.$obj=this.createList();if(t>0){this.select(t)}this.factory.$wrapper.append(this.$obj)},select:function(e){if(typeof e==="undefined"){e=this.digit}else{this.digit=e}var t=this.$obj.find('[data-digit="'+e+'"]');var n=this.$obj.find("."+this.classes.active).removeClass(this.classes.active);var r=this.$obj.find("."+this.classes.before).removeClass(this.classes.before);if(!this.factory.countdown){if(t.is(":first-child")){this.$obj.find(":last-child").addClass(this.classes.before)}else{t.prev().addClass(this.classes.before)}}else{if(t.is(":last-child")){this.$obj.find(":first-child").addClass(this.classes.before)}else{t.next().addClass(this.classes.before)}}t.addClass(this.classes.active)},play:function(){this.$obj.addClass(this.factory.classes.play)},stop:function(){var e=this;setTimeout(function(){e.$obj.removeClass(e.factory.classes.play)},this.factory.timer.interval)},createList:function(){var t=e('<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'" />');for(var n=0;n<10;n++){var r=e(['<li data-digit="'+n+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+n+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+n+"</div>","</div>","</a>","</li>"].join(""));this.items.push(r);t.append(r)}return t}});FlipClock.Time=FlipClock.Base.extend({minimumDigits:0,time:0,factory:false,constructor:function(e,t,n){this.base(n);this.factory=e;if(t){this.time=t}},convertDigitsToArray:function(e){var t=[];e=e.toString();for(var n=0;n<e.length;n++){if(e[n].match(/^\d*$/g)){t.push(e[n])}}return t},digit:function(e){var t=this.toString();var n=t.length;if(t[n-e]){return t[n-e]}return false},digitize:function(t){var n=[];e.each(t,function(e,t){t=t.toString();if(t.length==1){t="0"+t}for(var r=0;r<t.length;r++){n.push(t[r])}});if(n.length>this.minimumDigits){this.minimumDigits=n.length}if(this.minimumDigits>n.length){n.unshift("0")}return n},getDayCounter:function(e){var t=[this.getDays(),this.getHours(true),this.getMinutes(true)];if(e){t.push(this.getSeconds(true))}return this.digitize(t)},getDays:function(e){var t=this.time/60/60/24;if(e){t=t%7}return Math.floor(t)},getHourCounter:function(){var e=this.digitize([this.getHours(),this.getMinutes(true),this.getSeconds(true)]);return e},getHourly:function(){return this.getHourCounter()},getHours:function(e){var t=this.time/60/60;if(e){t=t%24}return Math.floor(t)},getMilitaryTime:function(){var e=new Date;var t=this.digitize([e.getHours(),e.getMinutes(),e.getSeconds()]);return t},getMinutes:function(e){var t=this.time/60;if(e){t=t%60}return Math.floor(t)},getMinuteCounter:function(){var e=this.digitize([this.getMinutes(),this.getSeconds(true)]);return e},getSeconds:function(e){var t=this.time;if(e){if(t==60){t=0}else{t=t%60}}return Math.ceil(t)},getTime:function(){var e=new Date;var t=e.getHours();var n=t>12?"PM":"AM";var r=this.digitize([t>12?t-12:t===0?12:t,e.getMinutes(),e.getSeconds()]);return r},getWeeks:function(){var e=this.time/60/60/24/7;if(mod){e=e%52}return Math.floor(e)},removeLeadingZeros:function(t,n){var r=0;var i=[];e.each(n,function(e,s){if(e<t){r+=parseInt(n[e],10)}else{i.push(n[e])}});if(r===0){return i}return n},toString:function(){return this.time.toString()}});FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:false,create:false,init:false,interval:false,start:false,stop:false,reset:false},count:0,factory:false,interval:1e3,constructor:function(e,t){this.base(t);this.factory=e;this.callback(this.callbacks.init);this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(e){clearInterval(this.timer);this.count=0;this._setInterval(e);this.callback(this.callbacks.reset)},start:function(e){this.factory.running=true;this._createTimer(e);this.callback(this.callbacks.start)},stop:function(e){this.factory.running=false;this._clearInterval(e);this.callback(this.callbacks.stop);this.callback(e)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(e){this._setInterval(e)},_destroyTimer:function(e){this._clearInterval();this.timer=false;this.callback(e);this.callback(this.callbacks.destroy)},_interval:function(e){this.callback(this.callbacks.interval);this.callback(e);this.count++},_setInterval:function(e){var t=this;t.timer=setInterval(function(){t._interval(e)},this.interval)}});String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)};e.fn.FlipClock=function(t,n){if(typeof t=="object"){n=t;t=0}return new FlipClock(e(this),t,n)};e.fn.flipClock=function(t,n){return e.fn.FlipClock(t,n)}})(jQuery);(function(e){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(e,t){e.countdown=false;this.base(e,t)},build:function(t){var n=this;var r=this.factory.$wrapper.find("ul");t=t?t:this.factory.time.time||this.factory.time.getMilitaryTime();if(t.length>r.length){e.each(t,function(e,t){n.factory.lists.push(n.createList(t))})}this.dividers.push(this.createDivider());this.dividers.push(this.createDivider());e(this.dividers[0]).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj);e(this.dividers[1]).insertBefore(this.factory.lists[this.factory.lists.length-4].$obj);this._clearExcessDigits();if(this.autoStart){this.start()}},flip:function(e){e=e?e:this.factory.time.getMilitaryTime();this.base(e)},_clearExcessDigits:function(){var e=this.factory.lists[this.factory.lists.length-2];var t=this.factory.lists[this.factory.lists.length-4];for(var n=6;n<10;n++){e.$obj.find("li:last-child").remove();t.$obj.find("li:last-child").remove()}}})})(jQuery);(function(e){FlipClock.CounterFace=FlipClock.Face.extend({autoStart:false,constructor:function(e,t){e.timer.interval=0;e.autoStart=false;e.running=true;e.increment=function(){e.countdown=false;e.setTime(e.getTime().time+1)};e.decrement=function(){e.countdown=true;e.setTime(e.getTime().time-1)};e.setValue=function(t){e.setTime(t)};e.setCounter=function(t){e.setTime(t)};this.base(e,t)},build:function(){var t=this;var n=this.factory.$wrapper.find("ul");var r=[];var i=this.factory.getTime().digitize([this.factory.getTime().time]);if(i.length>n.length){e.each(i,function(e,n){var i=t.createList(n);i.select(n);r.push(i)})}e.each(r,function(e,t){t.play()});this.factory.lists=r},flip:function(e){var t=this.factory.getTime().digitize([this.factory.getTime().time]);this.base(t,e)}})})(jQuery);(function(e){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:true,constructor:function(e,t){this.base(e,t)},build:function(t,n){var r=this;var i=this.factory.$wrapper.find("ul");var s=[];var o=0;n=n?n:this.factory.time.getDayCounter(this.showSeconds);if(n.length>i.length){e.each(n,function(e,t){s.push(r.createList(t))})}this.factory.lists=s;if(this.showSeconds){e(this.createDivider("Seconds")).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj)}else{o=2}e(this.createDivider("Minutes")).insertBefore(this.factory.lists[this.factory.lists.length-4+o].$obj);e(this.createDivider("Hours")).insertBefore(this.factory.lists[this.factory.lists.length-6+o].$obj);e(this.createDivider("Days",true)).insertBefore(this.factory.lists[0].$obj);this._clearExcessDigits();if(this.autoStart){this.start()}},flip:function(e,t){if(!t){t=this.factory.time.getDayCounter(this.showSeconds)}this.base(t,e)},_clearExcessDigits:function(){var e=this.factory.lists[this.factory.lists.length-2];var t=this.factory.lists[this.factory.lists.length-4];for(var n=6;n<10;n++){e.$obj.find("li:last-child").remove();t.$obj.find("li:last-child").remove()}}})})(jQuery);(function(e){FlipClock.HourlyCounterFace=FlipClock.Face.extend({clearExcessDigits:true,constructor:function(e,t){this.base(e,t)},build:function(t,n){var r=this;var i=this.factory.$wrapper.find("ul");var s=[];n=n?n:this.factory.time.getHourCounter();if(n.length>i.length){e.each(n,function(e,t){s.push(r.createList(t))})}this.factory.lists=s;e(this.createDivider("Seconds")).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj);e(this.createDivider("Minutes")).insertBefore(this.factory.lists[this.factory.lists.length-4].$obj);if(!t){e(this.createDivider("Hours",true)).insertBefore(this.factory.lists[0].$obj)}if(this.clearExcessDigits){this._clearExcessDigits()}if(this.autoStart){this.start()}},flip:function(e,t){if(!t){t=this.factory.time.getHourCounter()}this.base(t,e)},_clearExcessDigits:function(){var e=this.factory.lists[this.factory.lists.length-2];var t=this.factory.lists[this.factory.lists.length-4];for(var n=6;n<10;n++){e.$obj.find("li:last-child").remove();t.$obj.find("li:last-child").remove()}}})})(jQuery);(function(e){FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:false,constructor:function(e,t){this.base(e,t)},build:function(){this.base(true,this.factory.time.getMinuteCounter())},flip:function(e){this.base(e,this.factory.time.getMinuteCounter())}})})(jQuery);(function(e){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:false,meridiumText:"AM",build:function(t){var n=this;t=t?t:this.factory.time.time?this.factory.time.time:this.factory.time.getTime();this.base(t);this.meridiumText=this._isPM()?"PM":"AM";this.meridium=e(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join(""));this.meridium.insertAfter(this.factory.lists[this.factory.lists.length-1].$obj)},flip:function(){if(this.meridiumText!=this._getMeridium()){this.meridiumText=this._getMeridium();this.meridium.find("a").html(this.meridiumText)}this.base(this.factory.time.getTime())},_getMeridium:function(){return(new Date).getHours()>=12?"PM":"AM"},_isPM:function(){return this._getMeridium()=="PM"?true:false},_clearExcessDigits:function(){var e=this.factory.lists[this.factory.lists.length-2];var t=this.factory.lists[this.factory.lists.length-4];for(var n=6;n<10;n++){e.$obj.find("li:last-child").remove();t.$obj.find("li:last-child").remove()}}})})(jQuery);(function(e){FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"};FlipClock.Lang["de"]=FlipClock.Lang.German;FlipClock.Lang["de-de"]=FlipClock.Lang.German;FlipClock.Lang["german"]=FlipClock.Lang.German})(jQuery);(function(e){FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"};FlipClock.Lang["en"]=FlipClock.Lang.English;FlipClock.Lang["en-us"]=FlipClock.Lang.English;FlipClock.Lang["english"]=FlipClock.Lang.English})(jQuery);(function(e){FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"};FlipClock.Lang["es"]=FlipClock.Lang.Spanish;FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish;FlipClock.Lang["spanish"]=FlipClock.Lang.Spanish})(jQuery);(function(e){FlipClock.Lang.French={years:"ans",months:"mois",days:"jours",hours:"heures",minutes:"minutes",seconds:"secondes"};FlipClock.Lang["fr"]=FlipClock.Lang.French;FlipClock.Lang["fr-ca"]=FlipClock.Lang.French;FlipClock.Lang["french"]=FlipClock.Lang.French})(jQuery);(function(e){FlipClock.Lang.Russian={years:"лет",months:"месяцев",days:"дней",hours:"часов",minutes:"минут",seconds:"секунд"};FlipClock.Lang["ru"]=FlipClock.Lang.Russian;FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian;FlipClock.Lang["russian"]=FlipClock.Lang.Russian})(jQuery)